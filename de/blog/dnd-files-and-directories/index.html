<!DOCTYPE html><html  lang="de-DE" dir="ltr" data-capo=""><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><style id="nuxt-ui-colors">:root {
--color-primary-50: 238 242 255;
--color-primary-100: 224 231 255;
--color-primary-200: 199 210 254;
--color-primary-300: 165 180 252;
--color-primary-400: 129 140 248;
--color-primary-500: 99 102 241;
--color-primary-600: 79 70 229;
--color-primary-700: 67 56 202;
--color-primary-800: 55 48 163;
--color-primary-900: 49 46 129;
--color-primary-950: 30 27 75;
--color-primary-DEFAULT: var(--color-primary-500);

--color-gray-50: 250 250 250;
--color-gray-100: 244 244 245;
--color-gray-200: 228 228 231;
--color-gray-300: 212 212 216;
--color-gray-400: 161 161 170;
--color-gray-500: 113 113 122;
--color-gray-600: 82 82 91;
--color-gray-700: 63 63 70;
--color-gray-800: 39 39 42;
--color-gray-900: 24 24 27;
--color-gray-950: 9 9 11;
}

.dark {
  --color-primary-DEFAULT: var(--color-primary-400);
}
</style><title>Dateien und Verzeichnisse per Drag &amp; Drop - Alex Friesen</title><meta property="og:image" content="https://alexfriesen.net/__og-image__/static/de/blog/dnd-files-and-directories/og.png"><meta property="og:image:type" content="image/png"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://alexfriesen.net/__og-image__/static/de/blog/dnd-files-and-directories/og.png"><meta name="twitter:image:src" content="https://alexfriesen.net/__og-image__/static/de/blog/dnd-files-and-directories/og.png"><meta property="og:image:width" content="1200"><meta name="twitter:image:width" content="1200"><meta property="og:image:height" content="600"><meta name="twitter:image:height" content="600"><style>pre code .line{display:block;min-height:1rem}</style><link rel="stylesheet" href="/_nuxt/entry.X4KHcu22.css" crossorigin><link rel="preload" as="fetch" crossorigin="anonymous" href="/de/blog/dnd-files-and-directories/_payload.json?64659649-c3ff-439f-b21d-6eb5abd32310"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DEIj63ze.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DtdnzX9m.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/vWm9pLlz.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/CLpt25TH.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/C_To_a-w.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/tIFMCvC6.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/jwGr3NFm.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/CuDiDhzq.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DlAUqK2U.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/CAX-xBd3.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BAP4JZrn.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DDJBJVlY.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/D9-JX8hn.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/D2Dr-Lsn.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Dd_oFPNJ.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/iu41gsUz.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/D1JnvOJ4.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/CLcEu8Qe.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/CxYJgpPD.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DaK2c1qD.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/CqhjCatP.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/A61M1ln_.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DLkYjKLC.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ByXFWHz-.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DFohlaW4.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DwaQMGVp.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Bh_0-ZEg.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/D7WjQnqM.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/GkAAfFNT.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BKQtq-jk.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/CclINZJF.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/CO1C9syr.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/6xO3ayj2.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/DCAPIdcq.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/Xl5JqweJ.js"><meta name="theme-color" content="#4c7f7f"><meta name="keywords" content="Webdeveloper, Software Developer, Full-Stack Developer, Full-Stack"><meta property="og:type" content="website"><meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"><link rel="alternate" href="https://alexfriesen.net/en/blog/dnd-files-and-directories" hreflang="en"><link rel="alternate" href="https://alexfriesen.net/en/blog/dnd-files-and-directories" hreflang="en-US"><link rel="alternate" href="https://alexfriesen.net/de/blog/dnd-files-and-directories" hreflang="de"><link rel="alternate" href="https://alexfriesen.net/de/blog/dnd-files-and-directories" hreflang="de-DE"><link rel="alternate" href="https://alexfriesen.net/en/blog/dnd-files-and-directories" hreflang="x-default"><link rel="canonical" href="https://alexfriesen.net/de/blog/dnd-files-and-directories"><meta content="https://alexfriesen.net/de/blog/dnd-files-and-directories" property="og:url"><meta content="de_DE" property="og:locale"><meta content="en_US" property="og:locale:alternate"><meta property="og:title" content="Dateien und Verzeichnisse per Drag & Drop - Alex Friesen"><meta name="description" content="Dateien und sogar Verzeichnisse im Browser per Drag & Drop verschieben"><meta property="og:description" content="Dateien und sogar Verzeichnisse im Browser per Drag & Drop verschieben"><script type="module" src="/_nuxt/DEIj63ze.js" crossorigin></script><script id="unhead:payload" type="application/json">{"titleTemplate":"%s - Alex Friesen","title":"Home"}</script><meta property="og:site_name" content="alexfriesen"><style>:where(.i-circle-flags\:de){display:inline-block;width:1em;height:1em;background-repeat:no-repeat;background-size:100% 100%;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' width='512' height='512'%3E%3Cmask id='circleFlagsDe0'%3E%3Ccircle cx='256' cy='256' r='256' fill='%23fff'/%3E%3C/mask%3E%3Cg mask='url(%23circleFlagsDe0)'%3E%3Cpath fill='%23ffda44' d='m0 345l256.7-25.5L512 345v167H0z'/%3E%3Cpath fill='%23d80027' d='m0 167l255-23l257 23v178H0z'/%3E%3Cpath fill='%23333' d='M0 0h512v167H0z'/%3E%3C/g%3E%3C/svg%3E")}:where(.i-heroicons\:bars-3){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24'%3E%3Cpath fill='none' stroke='black' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5'/%3E%3C/svg%3E")}:where(.i-heroicons\:chevron-down-20-solid){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' width='20' height='20'%3E%3Cpath fill='black' fill-rule='evenodd' d='M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06' clip-rule='evenodd'/%3E%3C/svg%3E")}:where(.i-heroicons\:information-circle){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24'%3E%3Cpath fill='none' stroke='black' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m11.25 11.25l.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0a9 9 0 0 1 18 0m-9-3.75h.008v.008H12z'/%3E%3C/svg%3E")}:where(.i-ri\:bluesky-fill){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24'%3E%3Cpath fill='black' d='M12 11.388c-.906-1.761-3.372-5.044-5.665-6.662c-2.197-1.55-3.034-1.283-3.583-1.033C2.116 3.978 2 4.955 2 5.528c0 .575.315 4.709.52 5.4c.68 2.28 3.094 3.05 5.32 2.803c-3.26.483-6.157 1.67-2.36 5.898c4.178 4.325 5.726-.927 6.52-3.59c.794 2.663 1.708 7.726 6.444 3.59c3.556-3.59.977-5.415-2.283-5.898c2.225.247 4.64-.523 5.319-2.803c.205-.69.52-4.825.52-5.399c0-.575-.116-1.55-.752-1.838c-.549-.248-1.386-.517-3.583 1.033c-2.293 1.621-4.76 4.904-5.665 6.664'/%3E%3C/svg%3E")}:where(.i-ri\:github-fill){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24'%3E%3Cpath fill='black' d='M12.001 2c-5.525 0-10 4.475-10 10a9.99 9.99 0 0 0 6.837 9.488c.5.087.688-.213.688-.476c0-.237-.013-1.024-.013-1.862c-2.512.463-3.162-.612-3.362-1.175c-.113-.288-.6-1.175-1.025-1.413c-.35-.187-.85-.65-.013-.662c.788-.013 1.35.725 1.538 1.025c.9 1.512 2.337 1.087 2.912.825c.088-.65.35-1.087.638-1.337c-2.225-.25-4.55-1.113-4.55-4.938c0-1.088.387-1.987 1.025-2.687c-.1-.25-.45-1.275.1-2.65c0 0 .837-.263 2.75 1.024a9.3 9.3 0 0 1 2.5-.337c.85 0 1.7.112 2.5.337c1.913-1.3 2.75-1.024 2.75-1.024c.55 1.375.2 2.4.1 2.65c.637.7 1.025 1.587 1.025 2.687c0 3.838-2.337 4.688-4.562 4.938c.362.312.675.912.675 1.85c0 1.337-.013 2.412-.013 2.75c0 .262.188.574.688.474A10.02 10.02 0 0 0 22 12c0-5.525-4.475-10-10-10'/%3E%3C/svg%3E")}:where(.i-ri\:linkedin-fill){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24'%3E%3Cpath fill='black' d='M6.94 5a2 2 0 1 1-4-.002a2 2 0 0 1 4 .002M7 8.48H3V21h4zm6.32 0H9.34V21h3.94v-6.57c0-3.66 4.77-4 4.77 0V21H22v-7.93c0-6.17-7.06-5.94-8.72-2.91z'/%3E%3C/svg%3E")}</style><link rel="preload" as="fetch" fetchpriority="low" crossorigin="anonymous" href="/_nuxt/builds/meta/64659649-c3ff-439f-b21d-6eb5abd32310.json"><script>"use strict";(()=>{const t=window,e=document.documentElement,c=["dark","light"],n=getStorageValue("localStorage","nuxt-color-mode")||"system";let i=n==="system"?u():n;const r=e.getAttribute("data-color-mode-forced");r&&(i=r),l(i),t["__NUXT_COLOR_MODE__"]={preference:n,value:i,getColorScheme:u,addColorScheme:l,removeColorScheme:d};function l(o){const s=""+o+"",a="";e.classList?e.classList.add(s):e.className+=" "+s,a&&e.setAttribute("data-"+a,o)}function d(o){const s=""+o+"",a="";e.classList?e.classList.remove(s):e.className=e.className.replace(new RegExp(s,"g"),""),a&&e.removeAttribute("data-"+a)}function f(o){return t.matchMedia("(prefers-color-scheme"+o+")")}function u(){if(t.matchMedia&&f("").media!=="not all"){for(const o of c)if(f(":"+o).matches)return o}return"light"}})();function getStorageValue(t,e){switch(t){case"localStorage":return window.localStorage.getItem(e);case"sessionStorage":return window.sessionStorage.getItem(e);case"cookie":return getCookie(e);default:return null}}function getCookie(t){const c=("; "+window.document.cookie).split("; "+t+"=");if(c.length===2)return c.pop()?.split(";").shift()}</script></head><body><div id="__nuxt"><div><!--[--><!--[--><!----><!----><!----><!--[--><!----><!----><!----><!----><!----><!----><!--]--><!--[--><!----><!----><!----><!--]--><!--]--><!--[--><header class="shadow"><nav data-headlessui-state class="bg-gray-50 dark:bg-gray-800 ring-1 ring-gray-300 dark:ring-gray-700"><div class="max-w-7xl mx-auto px-2 sm:px-6 lg:px-8"><div class="relative flex items-center justify-between h-16"><div class="absolute inset-y-0 left-0 flex items-center sm:hidden"><button id="headlessui-disclosure-button-v-0-0" type="button" aria-expanded="false" data-headlessui-state class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white"><span class="sr-only">Open main menu</span><span class="iconify i-heroicons:bars-3 block h-6 w-6" aria-hidden="true" style=""></span></button></div><div class="flex-1 flex items-center justify-center sm:items-stretch sm:justify-start"><div class="flex-shrink-0 flex items-center"><h1 class="dark:text-white">Alexander Friesen</h1></div><div class="hidden sm:flex sm:ml-6 flex-1 justify-between gap-4"><div class="flex gap-4"><!--[--><a class="focus:outline-none focus-visible:outline-0 disabled:cursor-not-allowed disabled:opacity-75 aria-disabled:cursor-not-allowed aria-disabled:opacity-75 flex-shrink-0 font-medium rounded-md text-sm gap-x-2.5 px-3.5 py-2.5 text-primary-500 dark:text-primary-400 hover:bg-primary-50 disabled:bg-transparent aria-disabled:bg-transparent dark:hover:bg-primary-950 dark:disabled:bg-transparent dark:aria-disabled:bg-transparent focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-primary-500 dark:focus-visible:ring-primary-400 inline-flex items-center" href="/de" as="button" type="button" exact="false" exactquery="false" exacthash="false"><!--[--><!--[--><!----><!--]--><!--[--><!--[-->Startseite<!--]--><!--]--><!--[--><!----><!--]--><!--]--></a><a class="focus:outline-none focus-visible:outline-0 disabled:cursor-not-allowed disabled:opacity-75 aria-disabled:cursor-not-allowed aria-disabled:opacity-75 flex-shrink-0 font-medium rounded-md text-sm gap-x-2.5 px-3.5 py-2.5 text-primary-500 dark:text-primary-400 hover:bg-primary-50 disabled:bg-transparent aria-disabled:bg-transparent dark:hover:bg-primary-950 dark:disabled:bg-transparent dark:aria-disabled:bg-transparent focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-primary-500 dark:focus-visible:ring-primary-400 inline-flex items-center" href="/de/blog" as="button" type="button" exact="false" exactquery="false" exacthash="false"><!--[--><!--[--><!----><!--]--><!--[--><!--[-->Blog<!--]--><!--]--><!--[--><!----><!--]--><!--]--></a><a class="focus:outline-none focus-visible:outline-0 disabled:cursor-not-allowed disabled:opacity-75 aria-disabled:cursor-not-allowed aria-disabled:opacity-75 flex-shrink-0 font-medium rounded-md text-sm gap-x-2.5 px-3.5 py-2.5 text-primary-500 dark:text-primary-400 hover:bg-primary-50 disabled:bg-transparent aria-disabled:bg-transparent dark:hover:bg-primary-950 dark:disabled:bg-transparent dark:aria-disabled:bg-transparent focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-primary-500 dark:focus-visible:ring-primary-400 inline-flex items-center" href="/de/projects" as="button" type="button" exact="false" exactquery="false" exacthash="false"><!--[--><!--[--><!----><!--]--><!--[--><!--[-->Open Source Projekte<!--]--><!--]--><!--[--><!----><!--]--><!--]--></a><!--]--></div><div class="flex gap-4"><!--[--><a class="focus:outline-none focus-visible:outline-0 disabled:cursor-not-allowed disabled:opacity-75 aria-disabled:cursor-not-allowed aria-disabled:opacity-75 flex-shrink-0 font-medium rounded-md text-sm gap-x-2.5 px-3.5 py-2.5 text-primary-500 dark:text-primary-400 hover:bg-primary-50 disabled:bg-transparent aria-disabled:bg-transparent dark:hover:bg-primary-950 dark:disabled:bg-transparent dark:aria-disabled:bg-transparent focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-primary-500 dark:focus-visible:ring-primary-400 inline-flex items-center" href="/de/contact" as="button" type="button" exact="false" exactquery="false" exacthash="false"><!--[--><!--[--><!----><!--]--><!--[--><!--[-->Kontakt<!--]--><!--]--><!--[--><!----><!--]--><!--]--></a><!--]--></div></div></div></div></div><!----></nav></header><main><!--[--><section class="max-w-7xl mx-auto px-2 py-6 sm:px-6 lg:px-8"><!--[--><!--[--><!----><!----><!--]--><article class="prose dark:prose-invert max-w-none"><div class="flex align-center justify-center"><figure class="m-0"><picture><!--[--><source type="image/webp" sizes="(max-width: 640px) 320px, (max-width: 768px) 640px, (max-width: 1024px) 768px, (max-width: 1280px) 1024px, (max-width: 1536px) 1280px, 1536px" srcset="/_ipx/w_320&amp;f_webp/images/dnd-dirs.png 320w, /_ipx/w_640&amp;f_webp/images/dnd-dirs.png 640w, /_ipx/w_768&amp;f_webp/images/dnd-dirs.png 768w, /_ipx/w_1024&amp;f_webp/images/dnd-dirs.png 1024w, /_ipx/w_1280&amp;f_webp/images/dnd-dirs.png 1280w, /_ipx/w_1536&amp;f_webp/images/dnd-dirs.png 1536w, /_ipx/w_2048&amp;f_webp/images/dnd-dirs.png 2048w, /_ipx/w_2560&amp;f_webp/images/dnd-dirs.png 2560w, /_ipx/w_3072&amp;f_webp/images/dnd-dirs.png 3072w"><!--]--><img alt="Dateien und Verzeichnisse per Drag &amp; Drop" onerror="this.setAttribute(&#39;data-error&#39;, 1)" data-nuxt-pic src="/_ipx/w_3072&amp;f_png/images/dnd-dirs.png" sizes="(max-width: 640px) 320px, (max-width: 768px) 640px, (max-width: 1024px) 768px, (max-width: 1280px) 1024px, (max-width: 1536px) 1280px, 1536px" srcset="/_ipx/w_320&amp;f_png/images/dnd-dirs.png 320w, /_ipx/w_640&amp;f_png/images/dnd-dirs.png 640w, /_ipx/w_768&amp;f_png/images/dnd-dirs.png 768w, /_ipx/w_1024&amp;f_png/images/dnd-dirs.png 1024w, /_ipx/w_1280&amp;f_png/images/dnd-dirs.png 1280w, /_ipx/w_1536&amp;f_png/images/dnd-dirs.png 1536w, /_ipx/w_2048&amp;f_png/images/dnd-dirs.png 2048w, /_ipx/w_2560&amp;f_png/images/dnd-dirs.png 2560w, /_ipx/w_3072&amp;f_png/images/dnd-dirs.png 3072w"></picture><!----></figure></div><h1 id="dateien-und-verzeichnisse-per-drag-drop"><!--[-->Dateien und Verzeichnisse per Drag &amp; Drop<!--]--></h1><h2 id="einführung"><a href="#einführung"><!--[-->Einführung<!--]--></a></h2><p><!--[-->Das Ziehen und Ablegen von Dateien ist eine gängige Funktion in modernen Anwendungen. Es ermöglicht Benutzern, Dateien aus ihrem Dateisystem zu ziehen und auf einen bestimmten Bereich der Webanwendung abzulegen. Aber diese Funktion ist nicht auf Dateien beschränkt, sie kann auch verwendet werden, um Verzeichnisse zu ziehen und abzulegen.<!--]--></p><p><!--[-->Mit Hilfe von <a href="https://developer.mozilla.org/en-US/docs/Web/API/DataTransferItem/getAsFileSystemHandle" rel="nofollow"><!--[-->getAsFileSystemHandle<!--]--></a> und <a href="https://developer.mozilla.org/en-US/docs/Web/API/File_System_API" rel="nofollow"><!--[-->File System API<!--]--></a> können wir diese Funktion leicht implementieren.<!--]--></p><div class="w-full relative overflow-hidden rounded-lg p-4 bg-primary-50 dark:bg-primary-400 dark:bg-opacity-10 text-primary-500 dark:text-primary-400 not-prose"><div class="gap-3 items-start flex"><!--[--><span class="iconify i-heroicons:information-circle flex-shrink-0 w-5 h-5" aria-hidden="true" style=""></span><!--]--><!--[--><!----><!--]--><div class="w-0 flex-1"><p class="text-sm font-medium"><!--[-->Hint<!--]--></p><div class="mt-1 text-sm leading-4 opacity-90"><!--[--><!--[--><p><!--[-->
Diese Funktion ist als experimentell gekennzeichnet und funktioniert nicht in allen Browsern. Überprüfen Sie die <a href="https://developer.mozilla.org/en-US/docs/Web/API/DataTransferItem/getAsFileSystemHandle#browser_compatibility" rel="nofollow"><!--[-->Kompatibilitätstabelle<!--]--></a> für weitere Informationen.
Aber keine Sorge, wir werden auch einige Fallback-Lösungen behandeln.
<!--]--></p><!--]--><!--]--></div><!----></div><!----></div></div><h2 id="tldr"><a href="#tldr"><!--[-->TLDR;<!--]--></a></h2><p><!--[-->Mit einer Reihe von Hilfsfunktionen können wir leicht eine Drag-and-Drop-Funktion für Dateien und Verzeichnisse implementieren, indem wir <code class=""><!--[-->getAsFileSystemHandle()<!--]--></code> und einige Fallbacks verwenden.<!--]--></p><p><!--[-->Alles ist in einem Paket verpackt, das Sie in Ihrem Projekt verwenden können.
Schauen Sie sich das <a href="https://www.npmjs.com/package/data-transfer-helper" rel="nofollow"><!--[-->npm-Paket<!--]--></a> an oder holen Sie sich den Code auf <a href="https://github.com/alexfriesen/data-transfer-helper" rel="nofollow"><!--[-->Github<!--]--></a>.<!--]--></p><h2 id="grundlegende-einrichtung"><a href="#grundlegende-einrichtung"><!--[-->Grundlegende Einrichtung<!--]--></a></h2><p><!--[-->Bevor wir beginnen, benötigen wir eine grundlegende Einrichtung. Wir brauchen eine Dropzone und eine Funktion, die das Drop-Ereignis behandelt.<!--]--></p><p><!--[-->Zuerst erstellen wir eine einfache HTML-Datei, in der wir eine Dropzone und einen Absatz hinzufügen, der die abgelegten Dateien und Verzeichnisse anzeigt.<!--]--></p><!--[--><pre class="language-html shiki shiki-themes github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#E1E4E8">&lt;</span><span style="--shiki-default:#85E89D">body</span><span style="--shiki-default:#E1E4E8">&gt;
</span></span><span class="line" line="2"><span style="--shiki-default:#E1E4E8">    &lt;</span><span style="--shiki-default:#85E89D">p</span><span style="--shiki-default:#E1E4E8">&gt;Drag and Drop &lt;</span><span style="--shiki-default:#85E89D">strong</span><span style="--shiki-default:#E1E4E8">&gt;Files &amp; Directories&lt;/</span><span style="--shiki-default:#85E89D">strong</span><span style="--shiki-default:#E1E4E8">&gt; here&lt;/</span><span style="--shiki-default:#85E89D">p</span><span style="--shiki-default:#E1E4E8">&gt;
</span></span><span class="line" line="3"><span style="--shiki-default:#E1E4E8">&lt;/</span><span style="--shiki-default:#85E89D">body</span><span style="--shiki-default:#E1E4E8">&gt;
</span></span></code><!--]--></pre><!--]--><p><!--[-->Nun können wir den Ereignis-Listener zu einem Element oder in unserem Fall zum gesamten Dokument hinzufügen. Wir fügen einige Drag-and-Drop-Ereignisse hinzu und rufen <code class=""><!--[-->parseFilesFromEvent<!--]--></code> in unserem <code class=""><!--[-->drop<!--]--></code>-Ereignis auf.<!--]--></p><p><!--[-->Beachten Sie, dass wir auch das Standardverhalten der <code class=""><!--[-->dragover<!--]--></code>- und <code class=""><!--[-->dragleave<!--]--></code>-Ereignisse verhindern müssen, um das <code class=""><!--[-->drop<!--]--></code>-Ereignis auszulösen.<!--]--></p><!--[--><pre class="language-typescript shiki shiki-themes github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#E1E4E8">document.</span><span style="--shiki-default:#B392F0">addEventListener</span><span style="--shiki-default:#E1E4E8">(</span><span style="--shiki-default:#9ECBFF">&#39;dragover&#39;</span><span style="--shiki-default:#E1E4E8">, </span><span style="--shiki-default:#F97583">function</span><span style="--shiki-default:#E1E4E8"> (</span><span style="--shiki-default:#FFAB70">event</span><span style="--shiki-default:#E1E4E8">) {
</span></span><span class="line" line="2"><span style="--shiki-default:#E1E4E8">    event.</span><span style="--shiki-default:#B392F0">preventDefault</span><span style="--shiki-default:#E1E4E8">();
</span></span><span class="line" line="3"><span style="--shiki-default:#E1E4E8">    event.</span><span style="--shiki-default:#B392F0">stopPropagation</span><span style="--shiki-default:#E1E4E8">();
</span></span><span class="line" line="4"><span style="--shiki-default:#E1E4E8">});
</span></span><span class="line" line="5"><span style="--shiki-default:#E1E4E8">document.</span><span style="--shiki-default:#B392F0">addEventListener</span><span style="--shiki-default:#E1E4E8">(</span><span style="--shiki-default:#9ECBFF">&#39;dragleave&#39;</span><span style="--shiki-default:#E1E4E8">, </span><span style="--shiki-default:#F97583">function</span><span style="--shiki-default:#E1E4E8"> (</span><span style="--shiki-default:#FFAB70">event</span><span style="--shiki-default:#E1E4E8">) {
</span></span><span class="line" line="6"><span style="--shiki-default:#E1E4E8">    event.</span><span style="--shiki-default:#B392F0">preventDefault</span><span style="--shiki-default:#E1E4E8">();
</span></span><span class="line" line="7"><span style="--shiki-default:#E1E4E8">    event.</span><span style="--shiki-default:#B392F0">stopPropagation</span><span style="--shiki-default:#E1E4E8">();
</span></span><span class="line" line="8"><span style="--shiki-default:#E1E4E8">});
</span></span><span class="line" line="9"><span emptylineplaceholder="true">
</span></span><span class="line" line="10"><span style="--shiki-default:#E1E4E8">document.</span><span style="--shiki-default:#B392F0">addEventListener</span><span style="--shiki-default:#E1E4E8">(</span><span style="--shiki-default:#9ECBFF">&#39;drop&#39;</span><span style="--shiki-default:#E1E4E8">, </span><span style="--shiki-default:#F97583">async</span><span style="--shiki-default:#F97583"> function</span><span style="--shiki-default:#E1E4E8"> (</span><span style="--shiki-default:#FFAB70">event</span><span style="--shiki-default:#E1E4E8">) {
</span></span><span class="line" line="11"><span style="--shiki-default:#E1E4E8">    event.</span><span style="--shiki-default:#B392F0">preventDefault</span><span style="--shiki-default:#E1E4E8">();
</span></span><span class="line" line="12"><span style="--shiki-default:#E1E4E8">    event.</span><span style="--shiki-default:#B392F0">stopPropagation</span><span style="--shiki-default:#E1E4E8">();
</span></span><span class="line" line="13"><span emptylineplaceholder="true">
</span></span><span class="line" line="14"><span style="--shiki-default:#F97583">    await</span><span style="--shiki-default:#B392F0"> parseFilesFromEvent</span><span style="--shiki-default:#E1E4E8">(event);
</span></span><span class="line" line="15"><span style="--shiki-default:#E1E4E8">});
</span></span></code><!--]--></pre><!--]--><p><!--[--><code class=""><!--[-->parseFilesFromEvent<!--]--></code> wird unser DragEvent behandeln und <code class=""><!--[-->parseDataTransferItem<!--]--></code> aufrufen.<!--]--></p><!--[--><pre class="language-typescript shiki shiki-themes github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#F97583">async</span><span style="--shiki-default:#F97583"> function</span><span style="--shiki-default:#B392F0"> parseFilesFromEvent</span><span style="--shiki-default:#E1E4E8">(</span><span style="--shiki-default:#FFAB70">event</span><span style="--shiki-default:#F97583">:</span><span style="--shiki-default:#B392F0"> DragEvent</span><span style="--shiki-default:#E1E4E8">) {
</span></span><span class="line" line="2"><span style="--shiki-default:#F97583">    const</span><span style="--shiki-default:#79B8FF"> itemList</span><span style="--shiki-default:#F97583"> =</span><span style="--shiki-default:#E1E4E8"> event.dataTransfer?.items;
</span></span><span class="line" line="3"><span emptylineplaceholder="true">
</span></span><span class="line" line="4"><span style="--shiki-default:#F97583">    if</span><span style="--shiki-default:#E1E4E8"> (itemList) {
</span></span><span class="line" line="5"><span style="--shiki-default:#6A737D">        // convert DataTransferItemList to an array and remove all non file types
</span></span><span class="line" line="6"><span style="--shiki-default:#F97583">        const</span><span style="--shiki-default:#79B8FF"> items</span><span style="--shiki-default:#F97583"> =</span><span style="--shiki-default:#E1E4E8"> Array.</span><span style="--shiki-default:#B392F0">from</span><span style="--shiki-default:#E1E4E8">(itemList).</span><span style="--shiki-default:#B392F0">filter</span><span style="--shiki-default:#E1E4E8">((</span><span style="--shiki-default:#FFAB70">item</span><span style="--shiki-default:#E1E4E8">) </span><span style="--shiki-default:#F97583">=&gt;</span><span style="--shiki-default:#E1E4E8"> item.kind </span><span style="--shiki-default:#F97583">===</span><span style="--shiki-default:#9ECBFF"> &#39;file&#39;</span><span style="--shiki-default:#E1E4E8">);
</span></span><span class="line" line="7"><span style="--shiki-default:#6A737D">        // parse all found DataTransferItem&#39;s async
</span></span><span class="line" line="8"><span style="--shiki-default:#F97583">        const</span><span style="--shiki-default:#79B8FF"> fileChunks</span><span style="--shiki-default:#F97583"> =</span><span style="--shiki-default:#F97583"> await</span><span style="--shiki-default:#79B8FF"> Promise</span><span style="--shiki-default:#E1E4E8">.</span><span style="--shiki-default:#B392F0">all</span><span style="--shiki-default:#E1E4E8">(items.</span><span style="--shiki-default:#B392F0">map</span><span style="--shiki-default:#E1E4E8">(</span><span style="--shiki-default:#F97583">async</span><span style="--shiki-default:#E1E4E8"> (</span><span style="--shiki-default:#FFAB70">item</span><span style="--shiki-default:#E1E4E8">) </span><span style="--shiki-default:#F97583">=&gt;</span><span style="--shiki-default:#B392F0"> parseDataTransferItem</span><span style="--shiki-default:#E1E4E8">(item)));
</span></span><span class="line" line="9"><span style="--shiki-default:#6A737D">        // flatten our Array of File Arrays
</span></span><span class="line" line="10"><span style="--shiki-default:#F97583">        return</span><span style="--shiki-default:#E1E4E8"> fileChunks.</span><span style="--shiki-default:#B392F0">flat</span><span style="--shiki-default:#E1E4E8">();
</span></span><span class="line" line="11"><span style="--shiki-default:#E1E4E8">    }
</span></span><span class="line" line="12"><span emptylineplaceholder="true">
</span></span><span class="line" line="13"><span style="--shiki-default:#F97583">    return</span><span style="--shiki-default:#E1E4E8"> [];
</span></span><span class="line" line="14"><span style="--shiki-default:#E1E4E8">}
</span></span></code><!--]--></pre><!--]--><p><!--[-->Nun implementieren wir das eigentliche Datei-Parsing. Wir beginnen damit zu überprüfen, ob die FileSystemAccessAPI unterstützt wird und verwenden sie mit der Funktion <code class=""><!--[-->readFileSystemHandlesAsync<!--]--></code>. Wenn die FileSystemAccessAPI nicht unterstützt wird, fallen wir auf <code class=""><!--[-->webkitGetAsEntry<!--]--></code> zurück und verwenden <code class=""><!--[-->readFileSystemEntryAsync<!--]--></code>, um unsere Dateien zu parsen. Wenn beide APIs nicht unterstützt werden, fallen wir auf <code class=""><!--[-->getAsFile<!--]--></code> zurück und holen eine einzelne Datei.<!--]--></p><!--[--><pre class="language-typescript shiki shiki-themes github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#F97583">async</span><span style="--shiki-default:#F97583"> function</span><span style="--shiki-default:#B392F0"> parseDataTransferItem</span><span style="--shiki-default:#E1E4E8">(</span><span style="--shiki-default:#FFAB70">item</span><span style="--shiki-default:#F97583">:</span><span style="--shiki-default:#B392F0"> DataTransferItem</span><span style="--shiki-default:#E1E4E8">) {
</span></span><span class="line" line="2"><span style="--shiki-default:#6A737D">    // check if FileSystemAccessAPI is supported
</span></span><span class="line" line="3"><span style="--shiki-default:#F97583">    if</span><span style="--shiki-default:#E1E4E8"> (</span><span style="--shiki-default:#9ECBFF">&#39;getAsFileSystemHandle&#39;</span><span style="--shiki-default:#F97583"> in</span><span style="--shiki-default:#79B8FF"> DataTransferItem</span><span style="--shiki-default:#E1E4E8">.</span><span style="--shiki-default:#79B8FF">prototype</span><span style="--shiki-default:#E1E4E8">) {
</span></span><span class="line" line="4"><span style="--shiki-default:#F97583">        const</span><span style="--shiki-default:#79B8FF"> handle</span><span style="--shiki-default:#F97583"> =</span><span style="--shiki-default:#F97583"> await</span><span style="--shiki-default:#E1E4E8"> item.</span><span style="--shiki-default:#B392F0">getAsFileSystemHandle</span><span style="--shiki-default:#E1E4E8">();
</span></span><span class="line" line="5"><span style="--shiki-default:#F97583">        if</span><span style="--shiki-default:#E1E4E8"> (handle) {
</span></span><span class="line" line="6"><span style="--shiki-default:#F97583">            return</span><span style="--shiki-default:#B392F0"> readFileSystemHandlesAsync</span><span style="--shiki-default:#E1E4E8">(handle);
</span></span><span class="line" line="7"><span style="--shiki-default:#E1E4E8">        }
</span></span><span class="line" line="8"><span style="--shiki-default:#E1E4E8">    }
</span></span><span class="line" line="9"><span emptylineplaceholder="true">
</span></span><span class="line" line="10"><span style="--shiki-default:#6A737D">    // check if webkitGetAsEntry is supported
</span></span><span class="line" line="11"><span style="--shiki-default:#F97583">    if</span><span style="--shiki-default:#E1E4E8"> (</span><span style="--shiki-default:#9ECBFF">&#39;webkitGetAsEntry&#39;</span><span style="--shiki-default:#F97583"> in</span><span style="--shiki-default:#79B8FF"> DataTransferItem</span><span style="--shiki-default:#E1E4E8">.</span><span style="--shiki-default:#79B8FF">prototype</span><span style="--shiki-default:#E1E4E8">) {
</span></span><span class="line" line="12"><span style="--shiki-default:#F97583">        const</span><span style="--shiki-default:#79B8FF"> entry</span><span style="--shiki-default:#F97583"> =</span><span style="--shiki-default:#E1E4E8"> item.</span><span style="--shiki-default:#B392F0">webkitGetAsEntry</span><span style="--shiki-default:#E1E4E8">();
</span></span><span class="line" line="13"><span style="--shiki-default:#F97583">        if</span><span style="--shiki-default:#E1E4E8"> (entry) {
</span></span><span class="line" line="14"><span style="--shiki-default:#F97583">            return</span><span style="--shiki-default:#B392F0"> readFileSystemEntryAsync</span><span style="--shiki-default:#E1E4E8">(entry);
</span></span><span class="line" line="15"><span style="--shiki-default:#E1E4E8">        }
</span></span><span class="line" line="16"><span style="--shiki-default:#E1E4E8">    }
</span></span><span class="line" line="17"><span emptylineplaceholder="true">
</span></span><span class="line" line="18"><span style="--shiki-default:#6A737D">    // fallback to getAsFile
</span></span><span class="line" line="19"><span style="--shiki-default:#F97583">    const</span><span style="--shiki-default:#79B8FF"> file</span><span style="--shiki-default:#F97583"> =</span><span style="--shiki-default:#E1E4E8"> item.</span><span style="--shiki-default:#B392F0">getAsFile</span><span style="--shiki-default:#E1E4E8">();
</span></span><span class="line" line="20"><span style="--shiki-default:#F97583">    if</span><span style="--shiki-default:#E1E4E8"> (file) {
</span></span><span class="line" line="21"><span style="--shiki-default:#F97583">        return</span><span style="--shiki-default:#E1E4E8"> [file];
</span></span><span class="line" line="22"><span style="--shiki-default:#E1E4E8">    }
</span></span><span class="line" line="23"><span emptylineplaceholder="true">
</span></span><span class="line" line="24"><span style="--shiki-default:#F97583">    return</span><span style="--shiki-default:#E1E4E8"> [];
</span></span><span class="line" line="25"><span style="--shiki-default:#E1E4E8">}
</span></span></code><!--]--></pre><!--]--><h2 id="getasfilesystemhandle"><a href="#getasfilesystemhandle"><!--[--><code class=""><!--[-->getAsFileSystemHandle()<!--]--></code><!--]--></a></h2><p><!--[--><code class=""><!--[-->DataTransferItem.getAsFileSystemHandle()<!--]--></code> basiert auf der File System API, die es uns ermöglicht, tief verschachtelte Verzeichnisse rekursiv zu durchlaufen und Dateien aus diesen Verzeichnissen zu holen.<!--]--></p><p><!--[-->Da <code class=""><!--[-->getAsFileSystemHandle()<!--]--></code> uns ein <code class=""><!--[-->FileSystemHandle<!--]--></code>-Objekt gibt, müssen wir herausfinden, ob wir es mit einer Datei oder einem Verzeichnis zu tun haben.<!--]--></p><p><!--[-->Außerdem müssen wir Typescript mitteilen, mit welchem Typ wir es zu tun haben, indem wir einige Hilfsfunktionen hinzufügen:<!--]--></p><!--[--><pre class="language-typescript shiki shiki-themes github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#F97583">function</span><span style="--shiki-default:#B392F0"> isFileSystemDirectoryHandle</span><span style="--shiki-default:#E1E4E8">(</span><span style="--shiki-default:#FFAB70">handle</span><span style="--shiki-default:#F97583">?:</span><span style="--shiki-default:#B392F0"> FileSystemHandle</span><span style="--shiki-default:#F97583"> |</span><span style="--shiki-default:#79B8FF"> null</span><span style="--shiki-default:#E1E4E8">)</span><span style="--shiki-default:#F97583">:</span><span style="--shiki-default:#FFAB70"> handle</span><span style="--shiki-default:#F97583"> is</span><span style="--shiki-default:#B392F0"> FileSystemDirectoryHandle</span><span style="--shiki-default:#E1E4E8"> {
</span></span><span class="line" line="2"><span style="--shiki-default:#F97583">    return</span><span style="--shiki-default:#E1E4E8"> handle?.kind </span><span style="--shiki-default:#F97583">===</span><span style="--shiki-default:#9ECBFF"> &#39;directory&#39;</span><span style="--shiki-default:#E1E4E8">;
</span></span><span class="line" line="3"><span style="--shiki-default:#E1E4E8">}
</span></span><span class="line" line="4"><span style="--shiki-default:#F97583">function</span><span style="--shiki-default:#B392F0"> isFileSystemFileHanle</span><span style="--shiki-default:#E1E4E8">(</span><span style="--shiki-default:#FFAB70">handle</span><span style="--shiki-default:#F97583">?:</span><span style="--shiki-default:#B392F0"> FileSystemHandle</span><span style="--shiki-default:#F97583"> |</span><span style="--shiki-default:#79B8FF"> null</span><span style="--shiki-default:#E1E4E8">)</span><span style="--shiki-default:#F97583">:</span><span style="--shiki-default:#FFAB70"> handle</span><span style="--shiki-default:#F97583"> is</span><span style="--shiki-default:#B392F0"> FileSystemFileHandle</span><span style="--shiki-default:#E1E4E8"> {
</span></span><span class="line" line="5"><span style="--shiki-default:#F97583">    return</span><span style="--shiki-default:#E1E4E8"> handle?.kind </span><span style="--shiki-default:#F97583">===</span><span style="--shiki-default:#9ECBFF"> &#39;file&#39;</span><span style="--shiki-default:#E1E4E8">;
</span></span><span class="line" line="6"><span style="--shiki-default:#E1E4E8">}
</span></span></code><!--]--></pre><!--]--><p><!--[-->Nun können wir rekursiv durch unsere FileSystemHandles gehen und alle Dateien darin holen.<!--]--></p><!--[--><pre class="language-typescript shiki shiki-themes github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#F97583">async</span><span style="--shiki-default:#F97583"> function</span><span style="--shiki-default:#B392F0"> readFileSystemHandleRecursively</span><span style="--shiki-default:#E1E4E8">(</span><span style="--shiki-default:#FFAB70">entry</span><span style="--shiki-default:#F97583">:</span><span style="--shiki-default:#B392F0"> FileSystemHandle</span><span style="--shiki-default:#E1E4E8">) {
</span></span><span class="line" line="2"><span style="--shiki-default:#F97583">    const</span><span style="--shiki-default:#79B8FF"> files</span><span style="--shiki-default:#F97583"> =</span><span style="--shiki-default:#E1E4E8"> [];
</span></span><span class="line" line="3"><span emptylineplaceholder="true">
</span></span><span class="line" line="4"><span style="--shiki-default:#F97583">    if</span><span style="--shiki-default:#E1E4E8"> (</span><span style="--shiki-default:#B392F0">isFileSystemFileHanle</span><span style="--shiki-default:#E1E4E8">(entry)) {
</span></span><span class="line" line="5"><span style="--shiki-default:#F97583">        const</span><span style="--shiki-default:#79B8FF"> file</span><span style="--shiki-default:#F97583"> =</span><span style="--shiki-default:#F97583"> await</span><span style="--shiki-default:#E1E4E8"> entry.</span><span style="--shiki-default:#B392F0">getFile</span><span style="--shiki-default:#E1E4E8">();
</span></span><span class="line" line="6"><span style="--shiki-default:#F97583">        if</span><span style="--shiki-default:#E1E4E8"> (file) {
</span></span><span class="line" line="7"><span style="--shiki-default:#E1E4E8">            files.</span><span style="--shiki-default:#B392F0">push</span><span style="--shiki-default:#E1E4E8">(file);
</span></span><span class="line" line="8"><span style="--shiki-default:#E1E4E8">        }
</span></span><span class="line" line="9"><span style="--shiki-default:#E1E4E8">    } </span><span style="--shiki-default:#F97583">else</span><span style="--shiki-default:#F97583"> if</span><span style="--shiki-default:#E1E4E8"> (</span><span style="--shiki-default:#B392F0">isFileSystemDirectoryHandle</span><span style="--shiki-default:#E1E4E8">(entry)) {
</span></span><span class="line" line="10"><span style="--shiki-default:#6A737D">        // get every handle in the directory
</span></span><span class="line" line="11"><span style="--shiki-default:#F97583">        for</span><span style="--shiki-default:#F97583"> await</span><span style="--shiki-default:#E1E4E8"> (</span><span style="--shiki-default:#F97583">const</span><span style="--shiki-default:#79B8FF"> handle</span><span style="--shiki-default:#F97583"> of</span><span style="--shiki-default:#E1E4E8"> entry.</span><span style="--shiki-default:#B392F0">values</span><span style="--shiki-default:#E1E4E8">()) {
</span></span><span class="line" line="12"><span style="--shiki-default:#6A737D">            // look for files recursively
</span></span><span class="line" line="13"><span style="--shiki-default:#F97583">            const</span><span style="--shiki-default:#79B8FF"> newFiles</span><span style="--shiki-default:#F97583"> =</span><span style="--shiki-default:#F97583"> await</span><span style="--shiki-default:#B392F0"> readFileSystemHandleRecursively</span><span style="--shiki-default:#E1E4E8">(handle);
</span></span><span class="line" line="14"><span style="--shiki-default:#E1E4E8">            files.</span><span style="--shiki-default:#B392F0">push</span><span style="--shiki-default:#E1E4E8">(</span><span style="--shiki-default:#F97583">...</span><span style="--shiki-default:#E1E4E8">newFiles);
</span></span><span class="line" line="15"><span style="--shiki-default:#E1E4E8">        }
</span></span><span class="line" line="16"><span style="--shiki-default:#E1E4E8">    }
</span></span><span class="line" line="17"><span emptylineplaceholder="true">
</span></span><span class="line" line="18"><span style="--shiki-default:#F97583">    return</span><span style="--shiki-default:#E1E4E8"> files;
</span></span><span class="line" line="19"><span style="--shiki-default:#E1E4E8">}
</span></span></code><!--]--></pre><!--]--><p><!--[-->Mit allen notwendigen Funktionen an Ort und Stelle können wir schließlich unser <code class=""><!--[-->readFileSystemEntryAsync<!--]--></code> hinzufügen, das unsere Dateien rekursiv sammelt.<!--]--></p><!--[--><pre class="language-typescript shiki shiki-themes github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#F97583">async</span><span style="--shiki-default:#F97583"> function</span><span style="--shiki-default:#B392F0"> readFileSystemEntryAsync</span><span style="--shiki-default:#E1E4E8">(</span><span style="--shiki-default:#FFAB70">entry</span><span style="--shiki-default:#F97583">:</span><span style="--shiki-default:#B392F0"> FileSystemEntry</span><span style="--shiki-default:#E1E4E8">) {
</span></span><span class="line" line="2"><span style="--shiki-default:#F97583">    return</span><span style="--shiki-default:#B392F0"> readFileSystemEntryRecursively</span><span style="--shiki-default:#E1E4E8">(entry);
</span></span><span class="line" line="3"><span style="--shiki-default:#E1E4E8">}
</span></span></code><!--]--></pre><!--]--><h2 id="webkitgetasentry"><a href="#webkitgetasentry"><!--[--><code class=""><!--[-->webkitGetAsEntry<!--]--></code><!--]--></a></h2><p><!--[--><code class=""><!--[-->DataTransferItem.webkitGetAsEntry<!--]--></code> basiert auf der <a href="https://developer.mozilla.org/en-US/docs/Web/API/File_and_Directory_Entries_API" rel="nofollow"><!--[-->File and Directory Entries API<!--]--></a> und funktioniert ähnlich wie die File System API, hat aber einige seltsame Teile. Mit dieser Funktion können wir einen Fallback für Browser ohne <code class=""><!--[-->DataTransferItem.getAsFileSystemHandle()<!--]--></code> hinzufügen. Trotz des <code class=""><!--[-->webkit<!--]--></code>-Präfixes funktioniert dies auch in Firefox.<!--]--></p><p><!--[-->Zuerst fügen wir einige Hilfsfunktionen hinzu, um zwischen Dateien und Verzeichnissen zu unterscheiden.<!--]--></p><!--[--><pre class="language-typescript shiki shiki-themes github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#F97583">function</span><span style="--shiki-default:#B392F0"> isFileSystemDirectoryEntry</span><span style="--shiki-default:#E1E4E8">(</span><span style="--shiki-default:#FFAB70">entry</span><span style="--shiki-default:#F97583">?:</span><span style="--shiki-default:#B392F0"> FileSystemEntry</span><span style="--shiki-default:#F97583"> |</span><span style="--shiki-default:#79B8FF"> null</span><span style="--shiki-default:#E1E4E8">)</span><span style="--shiki-default:#F97583">:</span><span style="--shiki-default:#FFAB70"> entry</span><span style="--shiki-default:#F97583"> is</span><span style="--shiki-default:#B392F0"> FileSystemDirectoryEntry</span><span style="--shiki-default:#E1E4E8"> {
</span></span><span class="line" line="2"><span style="--shiki-default:#F97583">    return</span><span style="--shiki-default:#E1E4E8"> entry?.isDirectory </span><span style="--shiki-default:#F97583">===</span><span style="--shiki-default:#79B8FF"> true</span><span style="--shiki-default:#E1E4E8">;
</span></span><span class="line" line="3"><span style="--shiki-default:#E1E4E8">}
</span></span><span class="line" line="4"><span style="--shiki-default:#F97583">function</span><span style="--shiki-default:#B392F0"> isFileSystemFileEntry</span><span style="--shiki-default:#E1E4E8">(</span><span style="--shiki-default:#FFAB70">entry</span><span style="--shiki-default:#F97583">?:</span><span style="--shiki-default:#B392F0"> FileSystemEntry</span><span style="--shiki-default:#F97583"> |</span><span style="--shiki-default:#79B8FF"> null</span><span style="--shiki-default:#E1E4E8">)</span><span style="--shiki-default:#F97583">:</span><span style="--shiki-default:#FFAB70"> entry</span><span style="--shiki-default:#F97583"> is</span><span style="--shiki-default:#B392F0"> FileSystemFileEntry</span><span style="--shiki-default:#E1E4E8"> {
</span></span><span class="line" line="5"><span style="--shiki-default:#F97583">    return</span><span style="--shiki-default:#E1E4E8"> entry?.isFile </span><span style="--shiki-default:#F97583">===</span><span style="--shiki-default:#79B8FF"> true</span><span style="--shiki-default:#E1E4E8">;
</span></span><span class="line" line="6"><span style="--shiki-default:#E1E4E8">}
</span></span></code><!--]--></pre><!--]--><p><!--[-->Nun gehen wir durch die Einträge und finden unsere gewünschten Dateien.<!--]--></p><!--[--><pre class="language-typescript shiki shiki-themes github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#F97583">async</span><span style="--shiki-default:#F97583"> function</span><span style="--shiki-default:#B392F0"> readFileSystemEntryRecursively</span><span style="--shiki-default:#E1E4E8">(</span><span style="--shiki-default:#FFAB70">entry</span><span style="--shiki-default:#F97583">:</span><span style="--shiki-default:#B392F0"> FileSystemEntry</span><span style="--shiki-default:#E1E4E8">) {
</span></span><span class="line" line="2"><span style="--shiki-default:#F97583">    const</span><span style="--shiki-default:#79B8FF"> files</span><span style="--shiki-default:#F97583"> =</span><span style="--shiki-default:#E1E4E8"> [];
</span></span><span class="line" line="3"><span style="--shiki-default:#F97583">    if</span><span style="--shiki-default:#E1E4E8"> (</span><span style="--shiki-default:#B392F0">isFileSystemFileEntry</span><span style="--shiki-default:#E1E4E8">(entry)) {
</span></span><span class="line" line="4"><span style="--shiki-default:#F97583">        const</span><span style="--shiki-default:#79B8FF"> file</span><span style="--shiki-default:#F97583"> =</span><span style="--shiki-default:#F97583"> await</span><span style="--shiki-default:#F97583"> new</span><span style="--shiki-default:#79B8FF"> Promise</span><span style="--shiki-default:#E1E4E8">((</span><span style="--shiki-default:#FFAB70">resolve</span><span style="--shiki-default:#E1E4E8">) </span><span style="--shiki-default:#F97583">=&gt;</span><span style="--shiki-default:#E1E4E8"> entry.</span><span style="--shiki-default:#B392F0">file</span><span style="--shiki-default:#E1E4E8">(resolve));
</span></span><span class="line" line="5"><span style="--shiki-default:#E1E4E8">        files.</span><span style="--shiki-default:#B392F0">push</span><span style="--shiki-default:#E1E4E8">(file);
</span></span><span class="line" line="6"><span style="--shiki-default:#E1E4E8">    } </span><span style="--shiki-default:#F97583">else</span><span style="--shiki-default:#F97583"> if</span><span style="--shiki-default:#E1E4E8"> (</span><span style="--shiki-default:#B392F0">isFileSystemDirectoryEntry</span><span style="--shiki-default:#E1E4E8">(entry)) {
</span></span><span class="line" line="7"><span style="--shiki-default:#F97583">        const</span><span style="--shiki-default:#79B8FF"> reader</span><span style="--shiki-default:#F97583"> =</span><span style="--shiki-default:#E1E4E8"> entry.</span><span style="--shiki-default:#B392F0">createReader</span><span style="--shiki-default:#E1E4E8">();
</span></span><span class="line" line="8"><span style="--shiki-default:#F97583">        const</span><span style="--shiki-default:#79B8FF"> entries</span><span style="--shiki-default:#F97583"> =</span><span style="--shiki-default:#F97583"> await</span><span style="--shiki-default:#F97583"> new</span><span style="--shiki-default:#79B8FF"> Promise</span><span style="--shiki-default:#E1E4E8">((</span><span style="--shiki-default:#FFAB70">resolve</span><span style="--shiki-default:#E1E4E8">) </span><span style="--shiki-default:#F97583">=&gt;</span><span style="--shiki-default:#E1E4E8"> reader.</span><span style="--shiki-default:#B392F0">readEntries</span><span style="--shiki-default:#E1E4E8">(resolve));
</span></span><span class="line" line="9"><span style="--shiki-default:#F97583">        for</span><span style="--shiki-default:#E1E4E8"> (</span><span style="--shiki-default:#F97583">const</span><span style="--shiki-default:#79B8FF"> entry</span><span style="--shiki-default:#F97583"> of</span><span style="--shiki-default:#E1E4E8"> entries) {
</span></span><span class="line" line="10"><span style="--shiki-default:#F97583">            const</span><span style="--shiki-default:#79B8FF"> newFiles</span><span style="--shiki-default:#F97583"> =</span><span style="--shiki-default:#F97583"> await</span><span style="--shiki-default:#B392F0"> readFileSystemEntryRecursively</span><span style="--shiki-default:#E1E4E8">(entry);
</span></span><span class="line" line="11"><span style="--shiki-default:#E1E4E8">            files.</span><span style="--shiki-default:#B392F0">push</span><span style="--shiki-default:#E1E4E8">(</span><span style="--shiki-default:#F97583">...</span><span style="--shiki-default:#E1E4E8">newFiles);
</span></span><span class="line" line="12"><span style="--shiki-default:#E1E4E8">        }
</span></span><span class="line" line="13"><span style="--shiki-default:#E1E4E8">    }
</span></span><span class="line" line="14"><span style="--shiki-default:#F97583">    return</span><span style="--shiki-default:#E1E4E8"> files;
</span></span><span class="line" line="15"><span style="--shiki-default:#E1E4E8">}
</span></span></code><!--]--></pre><!--]--><p><!--[-->Wie Sie sehen können, ist diese API umständlicher zu verwenden, da wir mit Rückrufen arbeiten, Leser erstellen und Dinge in Promises einwickeln müssen. Aber es erledigt die Aufgabe!<!--]--></p><p><!--[-->Schließlich rufen wir <code class=""><!--[-->readFileSystemEntryRecursively<!--]--></code> von <code class=""><!--[-->readFileSystemEntryAsync<!--]--></code> auf.<!--]--></p><!--[--><pre class="language-typescript shiki shiki-themes github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#F97583">async</span><span style="--shiki-default:#F97583"> function</span><span style="--shiki-default:#B392F0"> readFileSystemEntryAsync</span><span style="--shiki-default:#E1E4E8">(</span><span style="--shiki-default:#FFAB70">entry</span><span style="--shiki-default:#F97583">:</span><span style="--shiki-default:#B392F0"> FileSystemEntry</span><span style="--shiki-default:#E1E4E8">) {
</span></span><span class="line" line="2"><span style="--shiki-default:#F97583">    return</span><span style="--shiki-default:#B392F0"> readFileSystemEntryRecursively</span><span style="--shiki-default:#E1E4E8">(entry);
</span></span><span class="line" line="3"><span style="--shiki-default:#E1E4E8">}
</span></span></code><!--]--></pre><!--]--><h2 id="optimierung-mit-generatorfunktionen"><a href="#optimierung-mit-generatorfunktionen"><!--[-->Optimierung mit Generatorfunktionen<!--]--></a></h2><p><!--[-->Zuletzt können wir diesen Code verbessern und Generatorfunktionen verwenden, um die Dinge zu beschleunigen. Das Schlüsselwort <code class=""><!--[-->yield*<!--]--></code> wird verwendet, um jeden Wert aus dem rekursiven Aufruf an den Generator zu übergeben.<!--]--></p><!--[--><pre class="language-typescript shiki shiki-themes github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#F97583">async</span><span style="--shiki-default:#F97583"> function*</span><span style="--shiki-default:#B392F0"> readFileSystemHandleRecursively</span><span style="--shiki-default:#E1E4E8">(</span><span style="--shiki-default:#FFAB70">entry</span><span style="--shiki-default:#F97583">:</span><span style="--shiki-default:#B392F0"> FileSystemHandle</span><span style="--shiki-default:#E1E4E8">)</span><span style="--shiki-default:#F97583">:</span><span style="--shiki-default:#B392F0"> AsyncGenerator</span><span style="--shiki-default:#E1E4E8">&lt;</span><span style="--shiki-default:#B392F0">File</span><span style="--shiki-default:#E1E4E8">&gt; {
</span></span><span class="line" line="2"><span style="--shiki-default:#F97583">    if</span><span style="--shiki-default:#E1E4E8"> (</span><span style="--shiki-default:#B392F0">isFileSystemFileHanle</span><span style="--shiki-default:#E1E4E8">(entry)) {
</span></span><span class="line" line="3"><span style="--shiki-default:#F97583">        const</span><span style="--shiki-default:#79B8FF"> file</span><span style="--shiki-default:#F97583"> =</span><span style="--shiki-default:#F97583"> await</span><span style="--shiki-default:#E1E4E8"> entry.</span><span style="--shiki-default:#B392F0">getFile</span><span style="--shiki-default:#E1E4E8">();
</span></span><span class="line" line="4"><span style="--shiki-default:#F97583">        if</span><span style="--shiki-default:#E1E4E8"> (file) {
</span></span><span class="line" line="5"><span style="--shiki-default:#F97583">            yield</span><span style="--shiki-default:#E1E4E8"> file;
</span></span><span class="line" line="6"><span style="--shiki-default:#E1E4E8">        }
</span></span><span class="line" line="7"><span style="--shiki-default:#E1E4E8">    } </span><span style="--shiki-default:#F97583">else</span><span style="--shiki-default:#F97583"> if</span><span style="--shiki-default:#E1E4E8"> (</span><span style="--shiki-default:#B392F0">isFileSystemDirectoryHandle</span><span style="--shiki-default:#E1E4E8">(entry)) {
</span></span><span class="line" line="8"><span style="--shiki-default:#F97583">        for</span><span style="--shiki-default:#F97583"> await</span><span style="--shiki-default:#E1E4E8"> (</span><span style="--shiki-default:#F97583">const</span><span style="--shiki-default:#79B8FF"> handle</span><span style="--shiki-default:#F97583"> of</span><span style="--shiki-default:#E1E4E8"> entry.</span><span style="--shiki-default:#B392F0">values</span><span style="--shiki-default:#E1E4E8">()) {
</span></span><span class="line" line="9"><span style="--shiki-default:#F97583">            yield*</span><span style="--shiki-default:#B392F0"> readFileSystemHandleRecursively</span><span style="--shiki-default:#E1E4E8">(handle);
</span></span><span class="line" line="10"><span style="--shiki-default:#E1E4E8">        }
</span></span><span class="line" line="11"><span style="--shiki-default:#E1E4E8">    }
</span></span><span class="line" line="12"><span style="--shiki-default:#E1E4E8">}
</span></span></code><!--]--></pre><!--]--><p><!--[-->Mit dieser Änderung müssen wir kein Dateien-Array speichern und zurückgeben, wir geben einfach die Dateien aus und sammeln alles, wenn die Arbeit erledigt ist. Wir können die Ausgabe des <code class=""><!--[-->AsyncGenerator<!--]--></code> in ein Array umwandeln, indem wir eine weitere Hilfsfunktion hinzufügen.<!--]--></p><!--[--><pre class="language-typescript shiki shiki-themes github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#F97583">async</span><span style="--shiki-default:#F97583"> function</span><span style="--shiki-default:#B392F0"> generatorToArray</span><span style="--shiki-default:#E1E4E8">&lt;</span><span style="--shiki-default:#B392F0">T</span><span style="--shiki-default:#E1E4E8">&gt;(</span><span style="--shiki-default:#FFAB70">generator</span><span style="--shiki-default:#F97583">:</span><span style="--shiki-default:#B392F0"> AsyncIterable</span><span style="--shiki-default:#E1E4E8">&lt;</span><span style="--shiki-default:#B392F0">T</span><span style="--shiki-default:#E1E4E8">&gt;)</span><span style="--shiki-default:#F97583">:</span><span style="--shiki-default:#B392F0"> Promise</span><span style="--shiki-default:#E1E4E8">&lt;</span><span style="--shiki-default:#B392F0">T</span><span style="--shiki-default:#E1E4E8">[]&gt; {
</span></span><span class="line" line="2"><span style="--shiki-default:#F97583">    const</span><span style="--shiki-default:#79B8FF"> items</span><span style="--shiki-default:#F97583">:</span><span style="--shiki-default:#B392F0"> T</span><span style="--shiki-default:#E1E4E8">[] </span><span style="--shiki-default:#F97583">=</span><span style="--shiki-default:#E1E4E8"> [];
</span></span><span class="line" line="3"><span style="--shiki-default:#F97583">    for</span><span style="--shiki-default:#F97583"> await</span><span style="--shiki-default:#E1E4E8"> (</span><span style="--shiki-default:#F97583">const</span><span style="--shiki-default:#79B8FF"> item</span><span style="--shiki-default:#F97583"> of</span><span style="--shiki-default:#E1E4E8"> generator) items.</span><span style="--shiki-default:#B392F0">push</span><span style="--shiki-default:#E1E4E8">(item);
</span></span><span class="line" line="4"><span style="--shiki-default:#F97583">    return</span><span style="--shiki-default:#E1E4E8"> items;
</span></span><span class="line" line="5"><span style="--shiki-default:#E1E4E8">}
</span></span></code><!--]--></pre><!--]--><p><!--[-->Nun fügen wir <code class=""><!--[-->generatorToArray<!--]--></code> zu unserer <code class=""><!--[-->readFileSystemEntryAsync<!--]--></code>-Funktion hinzu und sind fertig!<!--]--></p><!--[--><pre class="language-typescript shiki shiki-themes github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#F97583">async</span><span style="--shiki-default:#F97583"> function</span><span style="--shiki-default:#B392F0"> readFileSystemEntryAsync</span><span style="--shiki-default:#E1E4E8">(</span><span style="--shiki-default:#FFAB70">entry</span><span style="--shiki-default:#F97583">:</span><span style="--shiki-default:#B392F0"> FileSystemEntry</span><span style="--shiki-default:#E1E4E8">) {
</span></span><span class="line" line="2"><span style="--shiki-default:#F97583">    return</span><span style="--shiki-default:#B392F0"> generatorToArray</span><span style="--shiki-default:#E1E4E8">(</span><span style="--shiki-default:#B392F0">readFileSystemEntryRecursively</span><span style="--shiki-default:#E1E4E8">(entry));
</span></span><span class="line" line="3"><span style="--shiki-default:#E1E4E8">}
</span></span></code><!--]--></pre><!--]--><h2 id="outro"><a href="#outro"><!--[-->Outro<!--]--></a></h2><p><!--[-->Das war&#39;s für diesen Beitrag. Ich hoffe, Sie fanden ihn nützlich und informativ. Sie können den Code auf <a href="https://github.com/alexfriesen/data-transfer-helper" rel="nofollow"><!--[-->Github: data-transfer-helper<!--]--></a> finden oder ihn mit <a href="https://www.npmjs.com/package/data-transfer-helper" rel="nofollow"><!--[-->NPM: data-transfer-helper<!--]--></a> installieren.<!--]--></p><style>html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}</style></article><!--]--></section><!--]--></main><footer><section class="max-w-7xl mx-auto px-2 py-6 sm:px-6 lg:px-8 flex flex-col md:flex-row items-center justify-evenly gap-2"><!--[--><!--[--><div class="relative min-w-36" data-headlessui-state><!----><div id="headlessui-listbox-button-v-0-2" aria-haspopup="listbox" aria-expanded="false" data-headlessui-state role="button" class="flex items-center w-full"><!--[--><button class="relative w-full disabled:cursor-not-allowed disabled:opacity-75 focus:outline-none border-0 inline-flex items-center text-left cursor-default rounded-md text-sm gap-x-1.5 px-2.5 py-1.5 shadow-sm bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white ring-1 ring-inset ring-gray-300 dark:ring-gray-700 focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400 pe-9" type="button"><!----><!--[--><span class="iconify i-circle-flags:de w-6 h-6" aria-hidden="true" style=""></span><span>Deutsch</span><!--]--><span class="absolute inset-y-0 end-0 flex items-center pointer-events-none px-2.5"><!--[--><span class="iconify i-heroicons:chevron-down-20-solid flex-shrink-0 text-gray-400 dark:text-gray-500 h-5 w-5" aria-hidden="true" style=""></span><!--]--></span></button><!--]--></div><!----></div><!--]--><div><p class="text-base p-2"> © 2024 - Alexander Friesen </p></div><div class="flex items-center gap-4"><!--[--><!--[--><a class="focus:outline-none focus-visible:outline-0 disabled:cursor-not-allowed disabled:opacity-75 aria-disabled:cursor-not-allowed aria-disabled:opacity-75 flex-shrink-0 font-medium text-sm gap-x-1.5 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-700 text-gray-700 dark:text-gray-200 bg-gray-50 hover:bg-gray-100 disabled:bg-gray-50 aria-disabled:bg-gray-50 dark:bg-gray-800 dark:hover:bg-gray-700/50 dark:disabled:bg-gray-800 dark:aria-disabled:bg-gray-800 focus-visible:ring-2 focus-visible:ring-primary-500 dark:focus-visible:ring-primary-400 inline-flex items-center rounded-full p-2.5" title="Github" aria-label="Github" href="https://github.com/alexfriesen/" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!----><!--]--><!--[--><span class="iconify i-ri:github-fill w-6 h-6" aria-hidden="true" style=""></span><!--]--><!--[--><!----><!--]--><!--]--></a><!--]--><!--[--><a class="focus:outline-none focus-visible:outline-0 disabled:cursor-not-allowed disabled:opacity-75 aria-disabled:cursor-not-allowed aria-disabled:opacity-75 flex-shrink-0 font-medium text-sm gap-x-1.5 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-700 text-gray-700 dark:text-gray-200 bg-gray-50 hover:bg-gray-100 disabled:bg-gray-50 aria-disabled:bg-gray-50 dark:bg-gray-800 dark:hover:bg-gray-700/50 dark:disabled:bg-gray-800 dark:aria-disabled:bg-gray-800 focus-visible:ring-2 focus-visible:ring-primary-500 dark:focus-visible:ring-primary-400 inline-flex items-center rounded-full p-2.5" title="LinkedIn" aria-label="LinkedIn" href="https://www.linkedin.com/in/alexander-friesen-420495112" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!----><!--]--><!--[--><span class="iconify i-ri:linkedin-fill w-6 h-6" aria-hidden="true" style=""></span><!--]--><!--[--><!----><!--]--><!--]--></a><!--]--><!--[--><a class="focus:outline-none focus-visible:outline-0 disabled:cursor-not-allowed disabled:opacity-75 aria-disabled:cursor-not-allowed aria-disabled:opacity-75 flex-shrink-0 font-medium text-sm gap-x-1.5 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-700 text-gray-700 dark:text-gray-200 bg-gray-50 hover:bg-gray-100 disabled:bg-gray-50 aria-disabled:bg-gray-50 dark:bg-gray-800 dark:hover:bg-gray-700/50 dark:disabled:bg-gray-800 dark:aria-disabled:bg-gray-800 focus-visible:ring-2 focus-visible:ring-primary-500 dark:focus-visible:ring-primary-400 inline-flex items-center rounded-full p-2.5" title="Bluesky" aria-label="Bluesky" href="https://bsky.app/profile/alexfriesen.net" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!----><!--]--><!--[--><span class="iconify i-ri:bluesky-fill w-6 h-6" aria-hidden="true" style=""></span><!--]--><!--[--><!----><!--]--><!--]--></a><!--]--><!--]--></div><!--]--></section></footer><!--]--><!--]--></div></div><div id="teleports"></div><script type="application/json" data-nuxt-data="nuxt-app" data-ssr="true" id="__NUXT_DATA__" data-src="/de/blog/dnd-files-and-directories/_payload.json?64659649-c3ff-439f-b21d-6eb5abd32310">[{"state":1,"once":14,"_errors":15,"serverRendered":5,"path":17,"prerenderedAt":18},["Reactive",2],{"$scolor-mode":3,"$snuxt-i18n-meta":7,"$ssite-config":8},{"preference":4,"value":4,"unknown":5,"forced":6},"system",true,false,{},{"currentLocale":9,"defaultLocale":10,"env":11,"name":12,"url":13},"de","en","production","alexfriesen","https://alexfriesen.net",["Set"],["ShallowReactive",16],{"/de/blog/dnd-files-and-directories":-1},"/de/blog/dnd-files-and-directories",1736017707796]</script><script>window.__NUXT__={};window.__NUXT__.config={public:{"seo-utils":{canonicalQueryWhitelist:["page","sort","filter","search","q","category","tag"]},i18n:{baseUrl:"https://alexfriesen.net",defaultLocale:"en",defaultDirection:"ltr",strategy:"prefix",lazy:false,rootRedirect:"",routesNameSeparator:"___",defaultLocaleRouteNameSuffix:"default",skipSettingLocaleOnNavigate:false,differentDomains:false,trailingSlash:false,locales:[{code:"en",language:"en-US"},{code:"de",language:"de-DE"}],detectBrowserLanguage:{alwaysRedirect:false,cookieCrossOrigin:false,cookieDomain:"",cookieKey:"i18n_redirected",cookieSecure:false,fallbackLocale:"",redirectOn:"no prefix",useCookie:false},experimental:{localeDetector:"",switchLocalePathLinkSSR:false,autoImportTranslationFunctions:false,typedPages:true,typedOptionsAndMessages:false,generatedLocaleFilePathFormat:"absolute"},multiDomainLocales:false},mdc:{components:{prose:true,map:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"}},headings:{anchorLinks:{h1:false,h2:true,h3:true,h4:true,h5:false,h6:false}}},content:{locales:["en","de"],defaultLocale:"en",integrity:1736017685182,experimental:{stripQueryParameters:false,advanceQuery:false,clientDB:false},respectPathCase:false,api:{baseURL:"/api/_content"},navigation:{fields:[]},tags:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"},highlight:{theme:"github-dark",highlighter:"shiki",shikiEngine:"oniguruma",langs:["js","jsx","json","ts","tsx","vue","css","html","bash","md","mdc","yaml"]},wsUrl:"",documentDriven:false,host:"",trailingSlash:false,search:"",contentHead:true,anchorLinks:{depth:4,exclude:[1]}}},app:{baseURL:"/",buildId:"64659649-c3ff-439f-b21d-6eb5abd32310",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script><script type="application/ld+json" id="schema-org-graph">{"@context":"https://schema.org","@graph":[{"@id":"https://alexfriesen.net/de#website","@type":"WebSite","inLanguage":"de-DE","name":"alexfriesen","url":"https://alexfriesen.net/de","translationOfWork":{"@id":"https://alexfriesen.net/de#website"}},{"@id":"https://alexfriesen.net/de/blog/dnd-files-and-directories/#webpage","@type":"WebPage","description":"Dateien und sogar Verzeichnisse im Browser per Drag & Drop verschieben","name":"Dateien und Verzeichnisse per Drag & Drop","url":"https://alexfriesen.net/de/blog/dnd-files-and-directories","isPartOf":{"@id":"https://alexfriesen.net/de#website"},"potentialAction":[{"@type":"ReadAction","target":["https://alexfriesen.net/de/blog/dnd-files-and-directories"]}]}]}</script></body></html>